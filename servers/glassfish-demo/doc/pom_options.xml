<plugins>
	<plugin>
		<groupId>org.glassfish.embedded</groupId>
		<artifactId>maven-embedded-glassfish-plugin</artifactId>
		<version>${embedded-glassfish.version}</version>
		<configuration>
			<ports>
				<http-listener>8080</http-listener>
				<https-listener>8181</https-listener>
			</ports>
			<systemProperties>
				<property>glassfish.embedded.tmpdir=target/glassfish</property>
			</systemProperties>
			<!-- <installRoot>${project.build.directory}/glassfish/gfembed64998tmp</installRoot> -->
			<!-- <app>target/${project.artifactId}-${project.version}/</app> -->
			<!-- <app>target/glassfish-demo.war</app> -->
		</configuration>
				<dependencies>
			<dependency>
				<groupId>org.glassfish.main.common</groupId>
				<artifactId>simple-glassfish-api</artifactId>
				<version>${glassfish.version}</version>
			</dependency>
			<dependency>
				<groupId>org.glassfish.main.extras</groupId>
				<artifactId>glassfish-embedded-all</artifactId>
				<version>${glassfish.version}</version>
			</dependency>
		</dependencies>
	</plugin>
	<plugin>
		<groupId>org.glassfish.embedded</groupId>
		<artifactId>maven-embedded-glassfish-plugin</artifactId>
		<version>${embedded-glassfish.version}</version>
		<configuration>
			<app>target/glassfish-demo.war</app>
			<ports>
				<http-listener>8080</http-listener>
				<https-listener>8181</https-listener>
			</ports>
			<contextRoot>${project.artifactId}</contextRoot>
			<instanceRoot>${project.build.directory}/glassfish</instanceRoot>
		</configuration>
		<dependencies>
			<dependency>
				<groupId>org.glassfish.main.common</groupId>
				<artifactId>simple-glassfish-api</artifactId>
				<version>${glassfish.version}</version>
			</dependency>
			<dependency>
				<groupId>org.glassfish.main.extras</groupId>
				<artifactId>glassfish-embedded-all</artifactId>
				<version>${glassfish.version}</version>
			</dependency>
		</dependencies>
	</plugin>
</plugins>